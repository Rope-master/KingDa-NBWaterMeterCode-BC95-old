/*******************************************************************************
Copyright: 
File name: infrared.c
Description: 红外设置相关函数、变量
Author: 初学者cy
Version: 
Date: 
History: 
*******************************************************************************/
/*******************************************************************************
文件包含区
*******************************************************************************/
#include "infrared.h"
/*******************************************************************************
常量定义区
*******************************************************************************/
/*******************************************************************************
公共变量定义区
*******************************************************************************/
/*******************************************************************************
外部变量声明区
*******************************************************************************/
/*******************************************************************************
私有变量定义区
*******************************************************************************/          
/*******************************************************************************
测试变量定义区
*******************************************************************************/
/*******************************************************************************
内部函数定义区
*******************************************************************************/
/*******************************************************************************
功能代码定义区
*******************************************************************************/
/*******************************************************************************
 Function:      //
 Description:   //初始化
 Input:         //
 Output:        //
 Return:      	//
 Others:        //
*******************************************************************************/
void Infrared_Init(void)
{
  USART1_Config(2400);
  Infrared_PWR_Set;
}
/*******************************************************************************
 Function:      //
 Description:   //初始化
 Input:         //
 Output:        //
 Return:      	//
 Others:        //
*******************************************************************************/
void Infrared_DeInit(void)
{
  Infrared_PWR_Rst;
  
  USART1_Free();
  USART_DeInit(USART1);
  CLK_PeripheralClockConfig(CLK_Peripheral_USART1,DISABLE);
  GPIO_Init(GPIOC, GPIO_Pin_3 , GPIO_Mode_Out_PP_Low_Slow);
  GPIO_Init(GPIOC, GPIO_Pin_2 , GPIO_Mode_Out_PP_Low_Slow);
}
/*******************************************************************************
 Function:      //
 Description:   //初始化
 Input:         //
 Output:        //
 Return:      	//
 Others:        //
*******************************************************************************/
void Infrared_Process(void)
{
  uint8_t rxBuff[64] = {0};
  uint8_t rxLength = 0;
  
  if(Usart1.RxPend != FALSE)//判断有数据
  {                 
    rxLength = USART1_RX(rxBuff);//接收数据
    USART1_TX(rxBuff,rxLength);
  }
}
/*************************************END**************************************/